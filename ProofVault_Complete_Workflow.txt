# 🔄 ProofVault Complete Visual Workflow

## **End-to-End Evidence Management Process**

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                            PROOFVAULT EVIDENCE WORKFLOW                      │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────┐    ┌─────────────────────┐    ┌─────────────────────┐
│   📱 USER DEVICE    │    │  🖥️  PROOFVAULT     │    │  ⛓️  BLOCKCHAIN      │
│   Chrome Extension  │    │    API SERVER       │    │ Constellation Net   │
└─────────────────────┘    └─────────────────────┘    └─────────────────────┘
           │                           │                           │
           │                           │                           │
           
┌──────────┴──────────┐
│  PHASE 1: CAPTURE   │
└──────────┬──────────┘
           │
           ▼
┌─────────────────────┐
│ 🌐 User browses to  │
│ evidence website    │
│ ▸ defendant-site.com │
└──────────┬──────────┘
           │
           ▼
┌─────────────────────┐
│ 🎯 Click ProofVault │
│ browser extension   │
│ ▸ Fill company info │
│ ▸ Add matter number │
└──────────┬──────────┘
           │
           ▼
┌─────────────────────┐
│ 📷 Capture Evidence │
│ ▸ Full page screenshot
│ ▸ Metadata collection │
│ ▸ URL + timestamp    │
└──────────┬──────────┘
           │
           ▼
┌─────────────────────┐
│ 📄 Generate PDF     │
│ ▸ Screenshot + data │
│ ▸ Legal headers     │
│ ▸ Company/matter    │
└──────────┬──────────┘
           │
           │ 📤 Upload PDF
           │
           ▼
┌──────────┴──────────┐    ┌─────────────────────┐
│  PHASE 2: UPLOAD    │    │  🔍 VALIDATION      │
└──────────┬──────────┘    │  ▸ File type check  │
           │               │  ▸ Size limits      │
           │               │  ▸ Required fields  │
           │               └─────────────────────┘
           ▼                           │
┌─────────────────────┐               │
│ 🧮 Hash Calculation │◄──────────────┘
│ SHA256(PDF_content) │
│ = a1b2c3d4e5f6...   │
└──────────┬──────────┘
           │
           ▼
┌─────────────────────┐
│ 💾 Database Storage │
│ ┌─────────────────┐ │
│ │ pdf_records     │ │
│ │ ├─ id           │ │
│ │ ├─ company_name │ │
│ │ ├─ pdf_data     │ │
│ │ ├─ pdf_hash     │ │
│ │ ├─ created_at   │ │
│ │ └─ status: pending │
│ └─────────────────┘ │
└──────────┬──────────┘
           │
           │ ⛓️ Submit to blockchain
           │
           ▼
┌──────────┴──────────┐    ┌─────────────────────┐
│ PHASE 3: BLOCKCHAIN │    │  📋 TextUpdate      │
│     SUBMISSION      │    │  {                  │
└──────────┬──────────┘    │   id: "uuid-123"    │
           │               │   hash: "a1b2c3..."  │
           │               │  }                  │
           │               └─────────────────────┘
           ▼                           │
┌─────────────────────┐               │
│ 📡 POST Request     │◄──────────────┘
│ localhost:9400/     │
│ data-application/   │
│ text                │
└──────────┬──────────┘
           │
           │
           │                ┌─────────────────────┐
           └───────────────►│  Data L1 Layer      │
                            │  ┌───────────────┐  │
                            │  │ InMemoryRepo  │  │
                            │  │ Map[id→hash]  │  │
                            │  └───────────────┘  │
                            │  ▸ Validate JSON   │
                            │  ▸ Store TextUpdate │
                            └──────────┬──────────┘
                                       │
                            ┌──────────▼──────────┐
                            │ ✅ 201 Created      │
                            │ {                   │
                            │   "id": "uuid-123"  │
                            │   "hash": "a1b2..." │
                            │ }                   │
                            └──────────┬──────────┘
                                       │
                            ◄──────────┘
           ┌─────────────────────────────
           │
           ▼
┌──────────┴──────────┐    ┌─────────────────────┐
│ PHASE 4: BLOCKCHAIN │    │  🔄 VERIFICATION    │
│    VERIFICATION     │    │    POLLING          │
└──────────┬──────────┘    │  ▸ Max 30 attempts  │
           │               │  ▸ 2 second delays  │
           │               │  ▸ Hash comparison  │
           │               └─────────────────────┘
           ▼                           │
┌─────────────────────┐               │
│ 🔍 Poll Blockchain  │◄──────────────┘
│ GET /text/uuid-123  │
│                     │
│ Attempt 1: 200 OK   │
│ {                   │
│   "id": "uuid-123"  │
│   "hash": "a1b2..." │
│ }                   │
└──────────┬──────────┘
           │
           ▼
┌─────────────────────┐
│ ✅ Hash Verified    │
│ original === stored │
│                     │
│ ✓ BLOCKCHAIN        │
│   CONFIRMED\!        │
└──────────┬──────────┘
           │
           ▼
┌─────────────────────┐
│ 📝 Update Database  │
│ ┌─────────────────┐ │
│ │ UPDATE pdf_rec  │ │
│ │ SET             │ │
│ │ blockchain_status│ │
│ │   = 'verified'  │ │
│ │ blockchain_tx_id │ │
│ │   = 'a1b2c3...' │ │
│ │ verified_at     │ │
│ │   = NOW()       │ │
│ └─────────────────┘ │
└──────────┬──────────┘
           │
           │ 📱 Return success
           │
           ▼
┌──────────┴──────────┐    ┌─────────────────────┐
│   PHASE 5: USER     │    │  📬 SUCCESS         │
│    RESPONSE         │    │  NOTIFICATION       │
└──────────┬──────────┘    │                     │
           │               │  "Evidence          │
           │               │   successfully      │
           │               │   captured and      │
           │               │   blockchain        │
           │               │   verified\!"        │
           │               │                     │
           │               │  ID: uuid-123       │
           │               └─────────────────────┘
           ▼                           │
┌─────────────────────┐               │
│ 🎉 Extension Shows  │◄──────────────┘
│ Success Message     │
│                     │
│ Evidence ID:        │
│ uuid-12345          │
│                     │
│ Status: ✅ Verified │
└─────────────────────┘

══════════════════════════════════════════════════════════════════════════════

┌──────────────────────┐    ┌─────────────────────┐    ┌─────────────────────┐
│  PHASE 6: LEGAL      │    │   🏛️ DASHBOARD      │    │  ⚖️ COURT READY    │
│   TEAM ACCESS        │    │     INTERFACE       │    │    EVIDENCE         │
└──────────┬───────────┘    └─────────────────────┘    └─────────────────────┘
           │                           │                           │
           │                           │                           │
           ▼                           ▼                           │
┌─────────────────────┐    ┌─────────────────────┐              │
│ 👩‍💼 Attorney Login   │    │ 📋 Evidence List    │              │
│ ProofVault Portal   │    │                     │              │
└──────────┬──────────┘    │ 📄 Terms violation  │              │
           │               │ 🏢 Smith & Assoc.   │              │
           │               │ 📁 CASE-2025-001    │              │
           │               │ ✅ Blockchain ✓     │              │
           │               │ 📅 2025-08-10       │              │
           │               │ 🔗 Hash: a1b2c3...  │              │
           │               └──────────┬──────────┘              │
           │                          │                        │
           └──────────────────────────┘                        │
                                      │                        │
                                      ▼                        │
                          ┌─────────────────────┐              │
                          │ 🔍 Click Evidence   │              │
                          │ ▸ Download PDF      │              │
                          │ ▸ View metadata     │              │
                          │ ▸ Blockchain proof  │              │
                          └──────────┬──────────┘              │
                                     │                        │
                                     ▼                        │
                          ┌─────────────────────┐              │
                          │ 📊 Verification     │              │
                          │ Report Generated    │              │
                          │                     │              │
                          │ ✅ Evidence hash    │              │
                          │    verified on      │              │
                          │    blockchain       │              │
                          │                     │              │
                          │ ✅ Tamper-proof     │              │
                          │    guarantee        │              │
                          │                     │              │
                          │ ✅ Court admissible │──────────────┘
                          │    under Fed Rules  │
                          │    of Evidence      │
                          └─────────────────────┘
```

## Key Technical Endpoints:

**ProofVault API:**
- Upload: POST /api/pdf/upload
- Retrieve: GET /api/pdf/{id}
- List: GET /api/pdf/list

**Blockchain Metagraph:**
- Submit: POST http://localhost:9400/data-application/text
- Verify: GET http://localhost:9400/data-application/text/{id}

## Success Indicators:
- ✅ 201 Created - Evidence uploaded to ProofVault
- ✅ 201 Created - Hash submitted to blockchain  
- ✅ 200 OK - Hash verified on blockchain
- ✅ Hash Match - Integrity confirmed
- ✅ Database Updated - Verification status recorded

🎉 Complete end-to-end evidence integrity guaranteed\!
